import{u as N}from"./template-DnOP1xQc.js";import{a as S}from"./main-CMpDet3E.js";import{j as M}from"./template-CMjDBlDr.js";import{j as R,r as f,a as T,f as E,C as r,H as n,I as t,s as p,q as v,G as s,S as h,y as m,N as G,_ as O}from"./index-D44JGiXO.js";import"./request-ChAdx2Kn.js";const $={class:"editor-header"},q={class:"editor-main"},w=R({__name:"index",setup(z){const d=f(),o=N().getData(),k=S(),c=T({theme:"vs"}),a=f(!1),g=E(()=>"在线编辑 - "+o.path),_=l=>{c.theme=l,d.value.updateOptions(c)},x=l=>{a.value||(a.value=!0,M({projId:o.projId,content:l,path:o.path}).then(e=>{G.success("保存成功"),a.value=!1}).finally(()=>a.value=!1))},C=()=>{k.push("/")};return(l,e)=>{const b=t("icon-home"),y=t("icon-sun-fill"),u=t("a-button"),V=t("icon-moon-fill"),B=t("a-page-header"),j=t("monaco-editor"),I=t("a-spin");return p(),r(I,{class:"editor-container",loading:a.value,tip:"保存中，请稍后"},{default:n(()=>[v("div",$,[s(B,{title:"Code Generator",subtitle:g.value,onBack:C},{"back-icon":n(()=>[s(b,{style:{"font-size":"20px"}})]),extra:n(()=>[c.theme=="vs-dark"?(p(),r(u,{key:0,shape:"circle",title:"亮色模式",onClick:e[0]||(e[0]=i=>_("vs"))},{default:n(()=>[s(y)]),_:1})):h("",!0),c.theme=="vs"?(p(),r(u,{key:1,shape:"circle",title:"暗黑模式",onClick:e[1]||(e[1]=i=>_("vs-dark"))},{default:n(()=>[s(V)]),_:1})):h("",!0)]),_:1},8,["subtitle"])]),v("div",q,[s(j,{ref_key:"templateMonacoEditorRef",ref:d,modelValue:m(o).content,"onUpdate:modelValue":e[2]||(e[2]=i=>m(o).content=i),filename:m(o).path,onSave:x},null,8,["modelValue","filename"])])]),_:1},8,["loading"])}}}),J=O(w,[["__scopeId","data-v-a62f0cc8"]]);export{J as default};
